{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auction Details - Spices Auction</title>
    <link rel="stylesheet" href="{% static 'singleproduct_view.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="top">
        <a href="{% url 'auction' %}" style="text-decoration: none;"><button class="button">
          <svg height="16" width="16"xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024"><path d="M874.690416 495.52477c0 11.2973-9.168824 20.466124-20.466124 20.466124l-604.773963 0 188.083679 188.083679c7.992021 7.992021 7.992021 20.947078 0 28.939099-4.001127 3.990894-9.240455 5.996574-14.46955 5.996574-5.239328 0-10.478655-1.995447-14.479783-5.996574l-223.00912-223.00912c-3.837398-3.837398-5.996574-9.046027-5.996574-14.46955 0-5.433756 2.159176-10.632151 5.996574-14.46955l223.019353-223.029586c7.992021-7.992021 20.957311-7.992021 28.949332 0 7.992021 8.002254 7.992021 20.957311 0 28.949332l-188.073446 188.073446 604.753497 0C865.521592 475.058646 874.690416 484.217237 874.690416 495.52477z"></path></svg>
          <span>Back to Auction</span>
        </button></a></div>
    <!-- Auction Details -->
    <main class="auction-container">
        <div class="auction-details">
            <div class="product-gallery">
                <div class="main-image">
                    <center><video controls width="95%" height="700px" style="object-fit: cover;">
                        <source src="{{ product.spice_video.url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video></center>
                </div>
                <!-- <div class="thumbnail-container">
                    <img src="images/rb_30305.png" alt="Thumbnail 1" class="thumbnail active">
                    <img src="/placeholder.svg?height=100&width=100" alt="Thumbnail 2" class="thumbnail">
                    <img src="/placeholder.svg?height=100&width=100" alt="Thumbnail 3" class="thumbnail">
                    <img src="images/rb_30305.png" alt="Thumbnail 4" class="thumbnail">
                </div> -->
                <div class="description">
                    <h3>Description</h3>
                    <p>{{product.description}}</p>
                </div>
            </div>

            <div class="product-info">
                <h1>{{product.product_name}}</h1>
                <div class="auction-status">
                    <div class="timer" id="auctionTimer">
                        <div >
                            <img src="{{product.product_image.url}}" alt="Premium Cardamom" id="mainImage" style="width:200px;height:200px;object-fit: cover;" >
                        </div>
                        <!-- <div style="display: flex;gap: 9px;">
                        <div class="time-block">
                            <span class="time" id="hours">23</span>
                            <span class="label">Hours</span>
                        </div>
                        <div class="time-block">
                            <span class="time" id="minutes">59</span>
                            <span class="label">Minutes</span>
                        </div>
                    </div> -->
                        <!-- <div class="time-block">
                            <span class="time" id="seconds">59</span>
                            <span class="label">Seconds</span>
                        </div> -->
                    </div>
                </div>

                <div class="bid-section">
                    <div class="current-bid">
                        <h2>Current Bid</h2>
                        <p class="price">₹ <span id="currentBid">{{product.bid_price}}</span></p>
                        <p class="bidders"><span id="totalBids">{{product.bid}}</span> bids</p>
                    </div>                 

                    <div class="bid-info">
                        <!-- <p>Minimum bid increment: $0.50</p> -->
                        <p>Reserve price: ₹{{product.reserve_price}}(Met)</p>
                    </div>
                </div>

                <div class="product-details">
                    <h3>Product Details</h3>
                    <div class="details-grid">
                        <div class="detail">
                            <span class="label">Category:</span>
                            <span class="value">{{product.category}}</span>
                        </div>
                        <div class="detail">
                            <span class="label">Origin:</span>
                            <span class="value">{{product.origin}}</span>
                        </div>
                        <div class="detail">
                            <span class="label">Quantity:</span>
                            <span class="value">{{product.quantity}} kg</span>
                        </div>
                        <div class="detail">
                            <span class="label">Grade:</span>
                            <span class="value">{{product.quality}}</span>
                        </div>
                    </div>
                    {% if request.user.is_authenticated %}
                    <form class="place-bid" method="post" action="{% url 'conformbid' pk=product.pk %}">
                        {% csrf_token %}
                        {% if product.is_ended == False %}
                        <div class="bid-input">
                            <span class="currency">₹</span>
                            <input type="number" id="bidAmount" min="251" step="0.50" name="bidamount" value="{{product.bid_price}}">
                        </div>
                        <button id="placeBidBtn" type="submit" class="bid-button">Place Bid</button>    
                        {% else %}
                        <center style="color: rgb(218, 12, 12); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;font-weight: 600;">Auction Ended</center>
                        {% if product.bid == 0 %}
                        <center style="color: rgb(218, 12, 12); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;font-weight: 600;">No bids have been placed yet anyone</center>
                        {% endif %}
                        {% endif %}
                    </form>
                    {% endif %}
                   
                   
                </div>
            </div>
        </div>

        <!-- <div class="bid-history">
            <h3>Bid History</h3>
            <div class="bid-list" id="bidHistory">
              
                 <p>heeey</p>
            </div>
        </div> -->
    </main>

    <script src="{% static 'singleproduct_view.js' %}></script>
    <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>
</body>
</html>